@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply scroll-smooth;
  }

  body {
    @apply antialiased min-h-screen;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }

  /* Custom scrollbar for dark mode */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-surface-900;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-surface-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-surface-500;
  }
}

@layer components {
  /* Primary button */
  .btn-primary {
    @apply px-4 py-3 bg-chrient-gold text-surface-900 font-semibold rounded-xl
           active:scale-95 transition-all duration-150 ease-out
           shadow-lg hover:shadow-glow disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Secondary button */
  .btn-secondary {
    @apply px-4 py-3 bg-surface-800 text-white font-medium rounded-xl
           border border-surface-700 active:scale-95 transition-all duration-150
           hover:bg-surface-700 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Ghost button */
  .btn-ghost {
    @apply px-4 py-3 text-surface-300 font-medium rounded-xl
           active:scale-95 transition-all duration-150
           hover:bg-surface-800 hover:text-white;
  }

  /* Icon button */
  .btn-icon {
    @apply p-3 rounded-xl bg-surface-800 text-surface-300
           active:scale-95 transition-all duration-150
           hover:bg-surface-700 hover:text-white;
  }

  /* Card */
  .card {
    @apply bg-surface-900 rounded-2xl border border-surface-800 p-4;
  }

  /* Input */
  .input {
    @apply w-full px-4 py-3 bg-surface-800 border border-surface-700 rounded-xl
           text-white placeholder-surface-500 focus:outline-none focus:border-chrient-gold
           focus:ring-1 focus:ring-chrient-gold transition-colors;
  }

  /* Tag chip */
  .tag-chip {
    @apply inline-flex items-center gap-1 px-3 py-1.5 bg-surface-800
           text-surface-200 text-sm rounded-full border border-surface-700
           hover:border-chrient-gold hover:text-chrient-gold transition-colors cursor-pointer;
  }

  .tag-chip.selected {
    @apply bg-chrient-gold/20 border-chrient-gold text-chrient-gold;
  }

  /* Section header */
  .section-header {
    @apply flex items-center justify-between mb-3;
  }

  .section-title {
    @apply text-sm font-semibold text-surface-400 uppercase tracking-wider;
  }

  /* Toggle */
  .toggle {
    @apply relative inline-flex h-7 w-12 items-center rounded-full
           bg-surface-700 transition-colors cursor-pointer;
  }

  .toggle.active {
    @apply bg-chrient-gold;
  }

  .toggle-thumb {
    @apply inline-block h-5 w-5 transform rounded-full bg-white shadow-lg
           transition-transform duration-200;
  }

  .toggle.active .toggle-thumb {
    @apply translate-x-6;
  }

  .toggle:not(.active) .toggle-thumb {
    @apply translate-x-1;
  }
}

@layer utilities {
  /* Safe area insets for mobile */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }

  /* No scrollbar utility */
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Emphasis colors for prompt preview */
  .emphasis-strong {
    @apply text-chrient-gold font-semibold;
  }

  .emphasis-medium {
    @apply text-chrient-gold-light;
  }

  .emphasis-weak {
    @apply text-surface-400;
  }
}

/* Desktop-specific styles */
@media (min-width: 1024px) {
  /* Custom thin scrollbar for desktop panels */
  .desktop-layout ::-webkit-scrollbar {
    @apply w-1.5;
  }

  .desktop-layout ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .desktop-layout ::-webkit-scrollbar-thumb {
    @apply bg-surface-700 rounded-full;
  }

  .desktop-layout ::-webkit-scrollbar-thumb:hover {
    @apply bg-surface-600;
  }

  /* Panel hover effects */
  .desktop-layout aside:hover ::-webkit-scrollbar-thumb {
    @apply bg-surface-600;
  }

  /* Resizable panel cursors */
  .panel-resize-handle {
    @apply cursor-col-resize;
  }
}

/* Desktop panel transitions */
.panel-slide-enter-active,
.panel-slide-leave-active {
  transition: all 0.3s ease;
}

.panel-slide-enter-from,
.panel-slide-leave-to {
  opacity: 0;
  transform: translateX(-100%);
}

/* Command palette backdrop */
.command-palette-backdrop {
  animation: fadeIn 0.15s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Tag drag and drop */
.tag-dragging {
  @apply opacity-50 scale-95;
}

.tag-drop-target {
  @apply border-chrient-gold bg-chrient-gold/10;
}

/* Focus visible for keyboard navigation */
.tag-chip:focus-visible,
.btn-primary:focus-visible,
.btn-secondary:focus-visible,
.btn-ghost:focus-visible,
.btn-icon:focus-visible {
  @apply outline-none ring-2 ring-chrient-gold ring-offset-2 ring-offset-surface-900;
}

/* Selection highlight in desktop */
@media (min-width: 1024px) {
  ::selection {
    @apply bg-chrient-gold/30 text-white;
  }
}
